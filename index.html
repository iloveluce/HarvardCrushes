<!DOCTYPE html style = "height: 100%">
<meta charset="utf-8">
<head >
<link rel="stylesheet" href="http://lucianoiscool.github.io/css/bootstrap.css">
<link rel="stylesheet" href="http://lucianoiscool.github.io/css/style.css">

</head>

<style>
footer{
	color: black;
}
.main-title{
	color: #000;
}
.barm {
  fill: steelblue;
}
.barw{
	fill:rgb(70,145,70);
}

.compm {
  fill: steelblue;
  opacity: 0.5;
}
.compw{
	fill: green;
  opacity: 0.3;

}
.hiddenbar{
	opacity: 0;
}
.bar:hover {
  fill: brown;
}

.axis {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.d3-tip {
  line-height: 1;
  font-weight: bold;
  padding: 12px;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  border-radius: 2px;
}

/* Creates a small triangle extender for the tooltip */
.d3-tip:after {
  box-sizing: border-box;
  display: inline;
  font-size: 10px;
  width: 100%;
  line-height: 1;
  color: rgba(0, 0, 0, 0.8);
  content: "\25BC";
  position: absolute;
  text-align: center;
}

/* Style northward tooltips differently */
.d3-tip.n:after {
  margin: -1px 0 0 0;
  top: 100%;
  left: 0;
}
.maincontainer{


  background-image: url(http://www.collectorsweekly.com/articles/wp-content/uploads/2014/02/house-party-1950-from-look-mag-debutante-who-went-to-work.jpg);
  height: 60%;
}
.intro{
	top: 30%;
	bottom:auto;
}
#abstract{
	padding-top: 10%;
}
.evidence{

	color: black;
}
</style>


<title>Harvard Crushes</title>
</head>

<body >



<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<script>

var margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var x = d3.scale.ordinal()
    .rangeRoundBands([0, width], .1);

var y = d3.scale.linear()
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left")
    .ticks(10, "%");


var tip = d3.tip()
  .attr('class', 'd3-tip')
  .offset([-10, 0])
  .html(function(d) {
    return "<strong>Frequency:</strong> <span style='color:red'>" + d.frequency + "</span>";
  })


d3.csv("datawomen.csv", type, function(error, womendata) {

d3.csv("datamen.csv", type, function(error, data) {

  x.domain(womendata.map(function(d) { return d.Word; }));
  y.domain([0, d3.max(womendata, function(d) { return d.frequency; })]);

var svg = d3.select("#womengraph").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var svg2 = d3.select("#mengraph").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    svg.call(tip);





  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Frequency");

  svg.selectAll(".bar")
      .data(womendata)
    .enter().append("rect")
      .attr("class", "barw")
      .attr("x", function(d) { return x(d.Word); })
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.frequency); })
      .attr("height", function(d) { return height - y(d.frequency); })
      //.on('mouseover', tip.show)
      //.on('mouseout', tip.hide)

svg.append("text")
        .attr("x", (width / 2))
        .attr("y", 0 - (margin.top /4))
        .attr("text-anchor", "middle")
        .style("font-size", "16px")
        .style("text-decoration", "underline")
        .text("Common Words in Women Responses");


        womendata.forEach(function(d, i){

        	data.forEach(function(m){

        		if(d.Word == m.Word){


				    svg.append("rect")
        			.attr("class", "compm")
				    .attr("x", function() { return x(m.Word); })
				    .attr("width", x.rangeBand())
				    .attr("y", function() { return y(m.frequency); })
				    .attr("height", function() { return height - y(m.frequency); })


        		}

        	})
        })




      svg.selectAll(".barh").data(womendata)
    .enter().append("rect")
      .attr("class", "hiddenbar")
      .attr("x", function(d) { return x(d.Word); })
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.frequency); })
      .attr("height", function(d) { return height - y(d.frequency); })
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)


  x.domain(data.map(function(d) { return d.Word; }));
  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

  svg2.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg2.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Frequency");

  svg2.selectAll(".bar")
      .data(data)
    .enter().append("rect")
      .attr("class", "barm")
      .attr("x", function(d) { return x(d.Word); })
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.frequency); })
      .attr("height", function(d) { return height - y(d.frequency); })
      // .on('mouseover', tip.show)
      // .on('mouseout', tip.hide)

      svg2.append("text")
        .attr("x", (width / 2))
        .attr("y", 0 - (margin.top /4))
        .attr("text-anchor", "middle")
        .style("font-size", "16px")
        .style("text-decoration", "underline")
        .text("Common Words in Men Responses");

        womendata.forEach(function(d, i){

        	data.forEach(function(m){

        		if(d.Word == m.Word){
        			svg2.append("rect")
        			.attr("class", "compw")
				    .attr("x", function() { return x(d.Word); })
				    .attr("width", x.rangeBand())
				    .attr("y", function() { return y(d.frequency); })
				    .attr("height", function() { return height - y(d.frequency); })



        		}

        	})
        })

    svg2.selectAll(".barl").data(data)
    .enter().append("rect")
      .attr("class", "hiddenbar")
      .attr("x", function(d) { return x(d.Word); })
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.frequency); })
      .attr("height", function(d) { return height - y(d.frequency); })
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)


});

});



function type(d) {
  d.frequency = +d.frequency;
  return d;
}

</script>
<div class="container-fluid maincontainer">

<div class = "container-fluid intro">
<h1 class= "mainheader mainheader_resp">
Crushes: Examining Evolutionary Theories in Love Messages
</h1>
<h2 class = "secondheader">
  “My thoughts turn towards you, my Immortal Beloved…”-Ludwig Van Beethoven
</h2>
</div>
</div>

<div id ="abstract"class="container containertext">
		<h1 class ="main-title"> What? tldr</h1>

      <p class="lead">Well we know men and women are different. But how do they differ in the way they crush on each other? Those messages they send to try to court each other.
      	Which one says love more often? Which one says mentions physical
      	traits more often?</p>
      	<br>
      	 <p class="lead">Abstract { scroll past } </p>
      	 <p> Previous research suggests women, when compared to men, value personality traits more when looking for a partner. Men, when compared to women, are more likely to value physical traits when searching for partners. The researcher wanted to determine if these tendencies would surface when examining online infatuation messages or “crushes”. The researcher hypothesized that the most common words in infatuation messages from women would include more words describing one’s personality rather than words describing one’s physique. Additionally, infatuation messages from men would display the opposite, with more of the most common words being words that describe physique rather than personality. To test this hypothesis the researcher gathered 1134 infatuation messages and divided them based on sex. Then, the researcher ran algorithms to determine the most common words for each sex. The results did not support the hypothesis but did provide insight into the different strategies the males and females use to court their potential mates. </p>
</div>

<div class="container evidence">
	<h1> Men's Word Cloud</h1>
	<br>
	<br>
	<img src="./menwordcloud.svg" alt="Men's word cloud">
	<br>
	<br>
	<h1> Men's Frequency Graph</h1>
	<h4>Men in <text style = "color:steelblue">blue</text>; Women in <text style = "color:  rgb(70,145,70)">green</text></h4>
	<br>
	<div id = "mengraph"></div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<div class="container evidence">
	<h1> Women's Word Cloud</h1>
	<br>
	<br>
	<img src="./womenwordcloud.svg" alt="Women's word cloub">
	<br>
	<br>
	<h1> Women's Frequency Graph</h1>
	<h4>Women in <text style = "color: rgb(70,145,70)">green</text>; Men in <text style = "color: steelblue">blue</text></h4>
	<br>
	<div id = "womengraph"></div>
</div>
<br>
<br>
<footer>
   <p>* Introductory photograph by Stanley Kubrick for the Look magazine article "The Debutante Who Went to Work": "Socialite model/actress Betsy Von Furstenberg attending a weekend house party. Includes Von Furstenberg, hostess Sandra Stralem and other young women in ball gowns."</p>
</footer>
</body>
</html>
